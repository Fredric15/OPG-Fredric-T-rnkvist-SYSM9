<Window x:Class="CookMaster.Views.RecoverPwWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CookMaster.Views"
        xmlns:RecoverPwViewModel="clr-namespace:CookMaster.ViewModel"
        mc:Ignorable="d"
        Title="RecoverPw" Height="325" Width="300">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="75"/>
            <RowDefinition Height="80"/>
            <RowDefinition Height="125"/>
        </Grid.RowDefinitions>
        <StackPanel Grid.Row="0">
            <TextBlock Text="Input username:" FontWeight="Bold" Margin="5,5,5,0"/>
            <TextBox Text="{Binding InputUsername, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Margin="5,0,5,0"/>
            <Button Content="Search" Width="50" HorizontalAlignment="Left" Command="{Binding FindUserCommand}" Margin="5,0,5,0"/>
        </StackPanel>
        <StackPanel Grid.Row="1">
            <TextBlock Text="Säkerhetsfråga:" FontWeight="Bold" Margin="5,0,5,0"/>
            <TextBlock Text="{Binding Source={StaticResource UserManager},Path=CurrentUser.SecurityQuestion}" Margin="5,0,5,0"/>
            <TextBox Text="{Binding InputSecurityAnswer, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Margin="5,0,5,0"/>
            <StackPanel Orientation="Horizontal">
                <Button Content="Confirm" Width="50" Command="{Binding ConfirmAnswerCommand,UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" Margin="5,0,5,5"/>
                <TextBlock Text="{Binding ErrorText}" Foreground="Red" Width="230"/>
            </StackPanel>
        </StackPanel>
        <StackPanel Grid.Row="2">
            <TextBlock Text="New Password:" FontWeight="Bold" Margin="5,0,5,0"/>
            <PasswordBox Name="PwdBox" PasswordChanged="PwdBox_PasswordChanged" IsEnabled="{Binding SequrityMatch}" Margin="5,0,5,0"/>
            <TextBlock Text="Confirm new password:" FontWeight="Bold" Margin="5,0,5,0"/>
            <PasswordBox Name="ConfirmPwd" PasswordChanged="PwdBox_PasswordChanged" IsEnabled="{Binding SequrityMatch}" Margin="5,0,5,0"/>
            <TextBlock Text="{Binding ErrorPwd}" Foreground="Red" Margin="5,0,5,0"/>
        </StackPanel>
        <StackPanel Grid.Row="2" VerticalAlignment="Bottom" Orientation="Horizontal">
            <Button Content="Save" Command="{Binding SaveCommand}" Width="50" Margin="5,0,5,5"/>
            <Button Content="Cancel" Command="{Binding CancelCommand}" Width="50" Margin="5,0,5,5"/>
        </StackPanel>
    </Grid>
</Window>
